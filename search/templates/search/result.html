{% extends "site_base.html" %}

<!-- {% load static %} -->
{% load widget_tweaks %}

{% block extra_custom_css %}
    <link rel="stylesheet" href="{% static 'search/css/result.css' %}">
    <link rel="stylesheet" href="{% static 'search/css/form.css' %}">
{% endblock %}

{% block body %}
    <div id="search" class="bg-black text-gray-200">
        <div class="container w-full flex p-2">
            <h1 class="brand inline-block pr-1">
                <a href="{% url 'search-landing' %}">in<span class="q uppercase font-bold text-3xl">q</span></a>
            </h1>
            <div class="w-full max-w-screen-sm mx-2 result-ish">
                {% include "search/form.html" %}
            </div>
        </div>
    </div>

    <div class="w-full leading-loose py-12 md:py-16 lg:py-24 px-8">
        <div class="w-full max-w-screen-md mx-auto">

            <!-- <h2 class="mb-2 font-semibold">Input Shot</h2> -->
            <img
                src="{{ search_query.shot_url }}"
                alt="input face shot"
                class="block w-1/2 sm:w-1/3 md:w-1/4 mx-auto md:ml-0"
            >

            <p class="pt-2 text-center md:text-left">
            {% if search_result %}
                Matches found: {{ search_result | length }}
            {% else %}
                No matches found
            {% endif %}
            </p>
            <hr class="border-gray-300 mt-3 mb-8 sm:mb-14">

            {% for result in search_result %}
                <div class="leading-relaxed">
                    <p><!-- <span>Name:</span>  --><span>{{ result.scum.name }}</span></p>
                    <p><!-- <span>Location:</span>  --><span>{{ result.scum.location }}</span></p>
                    <p>
                        <!-- <span>External URL:</span> -->
                        <span>
                            <a
                                href="{{ result.scum.external_url }}"
                                class="underline text-blue-700 tracking-tight"
                            >{{ result.scum.external_url }}</a>
                        </span>
                    </p>
                </div>

                <p class="my-4">{{ result.shot_urls | length }} shot{{ result.shot_urls | pluralize }} found for this
                    scum</p>

                <div class="w-full flex flex-wrap mb-12 sm:mb-20">
                {% for shot_url in result.shot_urls %}
                    <img
                        src="{{ shot_url }}"
                        alt="A picture of the kito scum {{ result.scum.name }}"
                        class="w-1/2 sm:w-1/3 md:w-1/4"
                    >
                {% endfor %}
                </div>

                {% if not forloop.last %}
                <hr class="w-20 mx-auto border-2 border-black mb-12 sm:mb-20">
                {% endif %}

            {% endfor %}
        </div>
    </div>
{% endblock %}


{% block extra_custom_js %}
    <script type="text/javascript" src="{% static 'search/js/form.js' %}"></script>
{% endblock %}
